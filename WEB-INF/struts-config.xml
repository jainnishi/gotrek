<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">
<struts-config>
	<form-beans>
		<form-bean name="loginForm" type="com.compro.form.LoginForm" >
			<form-property name="email" type="java.lang.String"/>
			<form-property name="password" type="java.lang.String" />
		</form-bean>
		<form-bean name="registerForm" type="com.compro.form.RegisterForm">
			<form-property name="name" type="java.lang.String" />
			<form-property name="email2" type="java.lang.String" />
			<form-property name="password2" type="java.lang.String" />
		 	<form-property name="mobileno" type="java.lang.String" /> 
		</form-bean>
		<form-bean name="trekForm" type="com.compro.form.TrekForm">
			<form-property name="trekname" type="java.lang.String" />
			<form-property name="startdate" type="java.lang.String" />
			<form-property name="enddate" type="java.lang.String" />
			<form-property name="meetup" type="java.lang.String" />
			<form-property name="category" type="java.lang.String" />
			<form-property name="description" type="java.lang.String" />
			<form-property name="trekheading" type="java.lang.String" />
			<form-property name="imgfile" type="java.lang.String" />
		</form-bean>
	</form-beans>
	<action-mappings>
		<action path="/loginpage" type="org.apache.struts.actions.ForwardAction"
			parameter="/pages/tour.jsp">
		</action>
		<action path="/register" type="com.compro.controller.RegisterAction"
			validate="true" name="registerForm" input="/pages/tour.jsp">
			<forward name="success" path="/pages/useraccount/useraccount.jsp" />
			
		</action>
		<action path="/createtrek" type="com.compro.controller.TrekAction"
			validate="true" name="trekForm" input="/pages/useraccount/useraccount.jsp" >
			<forward name="success" path="/pages/welcome.jsp" />
		</action>
		
		<action path="/login" type="com.compro.controller.LoginAction" name="loginForm"
			input="/pages/tour.jsp" validate="true" scope="session">
			<forward name="success" path="/pages/useraccount/useraccount.jsp" />
			<forward name="failure" path="/pages/tour.jsp" />
		</action>
	</action-mappings>
	<message-resources parameter="resources.com.properties.common" />
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/validator-rules.xml,
                /WEB-INF/validation-user.xml" />
	</plug-in>
	<plug-in className="org.apache.struts.tiles.TilesPlugin" >
		<set-property property="definitions-config"
		value="/WEB-INF/tiles-defs.xml"/>
	</plug-in>
</struts-config>